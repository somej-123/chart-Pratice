<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chart.js</title>
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <canvas id="myChartOne"></canvas>
            </div>
            <button type="button" id="create">생성</button>
            <div class="col-md-6">
                <canvas id="myChartOne2"></canvas>
            </div>
            <div class="col-md-6">
                <canvas id="myChartOne3"></canvas>
            </div>
        </div>
    </div>
    <script>
        
        
        
        let myChartOne = document.getElementById('myChartOne').getContext('2d');

        let barChart = new Chart(myChartOne,{
            type : 'line',//pie, line, doughnut, polarArea 어떤 형식으로 할건지
            data : {//타입에 들어갈 데이터 설정
                labels:['학원','연구원', '출판사', '미디어사', '위니브'],//밑에 표시되는 것
                datasets :[{//밑에 표시되는 것에 대한 데이터
                    label:"바울랩 매출액",//상단에 표시
                    data : [//해당 라벨에 들어갈 데이터 숫자들
                        1,
                        2,
                        3,
                        4,
                        5
                    ]
                }]

            }
        });
        console.log(barChart.data.datasets[0].data);
        
        let myChartOne2 = document.getElementById('myChartOne2').getContext('2d');

        let barChart2 = {
            type : 'bar',//pie, line, doughnut, polarArea 어떤 형식으로 할건지
            data : {//타입에 들어갈 데이터 설정
                labels:['학원','연구원', '출판사', '미디어사', '위니브'],//밑에 표시되는 것
                datasets :[{//밑에 표시되는 것에 대한 데이터
                    label:"바울랩 매출액",//상단에 표시
                    data : [//해당 라벨에 들어갈 데이터 숫자들 배열방식
                        200,
                        100,
                        250,
                        200,
                        1000
                    ],
                    backgroundColor:[ //배경 색 배열순서에 맞게 설정 가능 grba도 가능
                        'red',
                        'rgba(255,255,0,0.5)',
                        '#990000',
                        'skyblue',
                        'dodgerblue',
                    ],
                    borderWidth:5, //border:3px과 동일한듯..?
                    borderColor: '#000', //border의 색깔
                    hoverBorderWidth : 8, // 마우스를 올렸을대 보더 넓이 값
                }]

            }
        }

        var barChar2 = new Chart(myChartOne2,barChart2);

        let myChartOne3 = document.getElementById('myChartOne3').getContext('2d');
        var a,b,c,d,e,f,g,h;
        var _data,_data2;
        // a = barChart.data.datasets[0].data
        setInterval(function(){
            a = parseInt(Math.random()*100)+1;
            b = parseInt(Math.random()*100)+1;
            c = parseInt(Math.random()*100)+1;
            d = parseInt(Math.random()*100)+1;
            e = parseInt(Math.random()*100)+1;
            f = parseInt(Math.random()*100)+1;
            g = parseInt(Math.random()*100)+1;
            h = parseInt(Math.random()*100)+1;
            _data = [a,b,c,d];
            _data2 = [e,f,g,h];
        },1000);
        setInterval(function(){
        let barChart3 = new Chart(myChartOne3,{
            type: 'bar',
            data: {
                datasets: [
                    {
                        label: 'Bar Dataset',
                        data: _data2,
                        // this dataset is drawn below
                        type:'line',
                        order: 1
                    },
                    {
                        label: 'Line Dataset',
                        data: _data,
                        type: 'line',
                        // this dataset is drawn on top
                        order: 2
                    }
                ],
                labels: ['January', 'February', 'March', 'April']
                    },
            });
        },5000);
    </script>
</body>
</html>